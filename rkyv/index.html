<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="rkyv"><meta name="keywords" content="rust, rustlang, rust-lang, rkyv"><title>rkyv - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../rkyv/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Crate rkyv</h2><div class="block version"><div class="narrow-helper"></div><p>Version 0.6.7</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all rkyv's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div><div id="sidebar-vars" data-name="rkyv" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">rkyv</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/rkyv/lib.rs.html#1-800" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="rkyv" class="section-header"><a href="#rkyv">rkyv</a></h2>
<p>rkyv (<em>archive</em>) is a zero-copy deserialization framework for Rust.</p>
<p>It’s similar to other zero-copy deserialization frameworks such as
<a href="https://capnproto.org">Cap’n Proto</a> and <a href="https://google.github.io/flatbuffers">FlatBuffers</a>.
However, while the former have external schemas and heavily restricted data types, rkyv allows
all serialized types to be defined in code and can serialize a wide variety of types that the
others cannot. Additionally, rkyv is designed to have little to no overhead, and in most cases
will perform exactly the same as native types.</p>
<h3 id="design" class="section-header"><a href="#design">Design</a></h3>
<p>Like <a href="https://serde.rs">serde</a>, rkyv uses Rust’s powerful trait system to serialize data without
the need for reflection. Despite having a wide array of features, you also only pay for what you
use. If your data checks out, the serialization process can be as simple as a <code>memcpy</code>! Like
serde, this allows rkyv to perform at speeds similar to handwritten serializers.</p>
<p>Unlike serde, rkyv produces data that is guaranteed deserialization free. If you wrote your data
to disk, you can just <code>mmap</code> your file into memory, cast a pointer, and your data is ready to
use. This makes it ideal for high-performance and IO-bound applications.</p>
<p>Limited data mutation is supported through <code>Pin</code> APIs, and archived values can be truly
deserialized with <a href="trait.Deserialize.html" title="Deserialize"><code>Deserialize</code></a> if full mutation capabilities are needed.</p>
<h3 id="type-support" class="section-header"><a href="#type-support">Type support</a></h3>
<p>rkyv has a hashmap implementation that is built for zero-copy deserialization, so you can
serialize your hashmaps with abandon. The implementation performs perfect hashing with the
compress, hash and displace algorithm to use as little memory as possible while still performing
fast lookups.</p>
<p>rkyv also has support for contextual serialization, deserialization, and validation. It can
properly serialize and deserialize shared pointers like <code>Rc</code> and <code>Arc</code>, and can be extended to
support custom contextual types.</p>
<p>One of the most impactful features made possible by rkyv is the ability to serialize trait
objects and use them <em>as trait objects</em> without deserialization. See the <code>archive_dyn</code> crate for
more details.</p>
<h3 id="tradeoffs" class="section-header"><a href="#tradeoffs">Tradeoffs</a></h3>
<p>rkyv is designed primarily for loading bulk game data as efficiently as possible. While rkyv is
a great format for final data, it lacks a full schema system and isn’t well equipped for data
migration. Using a serialization library like serde can help fill these gaps, and you can use
serde with the same types as rkyv conflict-free.</p>
<h3 id="features" class="section-header"><a href="#features">Features</a></h3>
<ul>
<li><code>const_generics</code>: Improves the trait implementations for arrays with support for all lengths
(enabled by default)</li>
<li><code>size_64</code>: Archives <code>*size</code> as <code>*64</code> instead of <code>*32</code>. This is for large archive support</li>
<li><code>specialization</code>: Enables support for the unstable specialization feature for increased
performance for a few specific cases</li>
<li><code>std</code>: Enables standard library support (enabled by default)</li>
<li><code>strict</code>: Guarantees that types will have the same representations across platforms and
compilations. This is already the case in practice, but this feature provides a guarantee. It
additionally provides C type compatibility.</li>
<li><code>validation</code>: Enables validation support through <code>bytecheck</code></li>
</ul>
<h3 id="examples" class="section-header"><a href="#examples">Examples</a></h3>
<p>See <a href="trait.Archive.html" title="Archive"><code>Archive</code></a> for examples of how to use rkyv.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left import-item"><code>pub use <a class="mod" href="util/index.html" title="mod rkyv::util">util</a>::*;</code></div><div class="item-right docblock-short"></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="core_impl/index.html" title="rkyv::core_impl mod">core_impl</a></div><div class="item-right docblock-short"><p><a href="trait.Archive.html" title="Archive"><code>Archive</code></a> implementations for core types.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="de/index.html" title="rkyv::de mod">de</a></div><div class="item-right docblock-short"><p>Deserialization traits, deserializers, and adapters.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="ser/index.html" title="rkyv::ser mod">ser</a></div><div class="item-right docblock-short"><p>Serialization traits, serializers, and adapters.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="std_impl/index.html" title="rkyv::std_impl mod">std_impl</a></div><div class="item-right docblock-short"><p><a href="trait.Archive.html" title="Archive"><code>Archive</code></a> implementations for std types.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="util/index.html" title="rkyv::util mod">util</a></div><div class="item-right docblock-short"><p>Utilities for common archive operations.</p>
</div></div></div><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.offset_of.html" title="rkyv::offset_of macro">offset_of</a></div><div class="item-right docblock-short"><p>Calculates the offset of the specified field from the start of the named struct.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.offset_of_tuple.html" title="rkyv::offset_of_tuple macro">offset_of_tuple</a></div><div class="item-right docblock-short"><p>Calculates the offset of the specified field from the start of the tuple.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.project_struct.html" title="rkyv::project_struct macro">project_struct</a></div><div class="item-right docblock-short"><p>Maps a mutable <code>MaybeUninit</code> struct reference to a mutable <code>MaybeUninit</code> field reference.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.project_tuple.html" title="rkyv::project_tuple macro">project_tuple</a></div><div class="item-right docblock-short"><p>Maps a mutable <code>MaybeUninit</code> tuple reference to a mutable <code>MaybeUninit</code> index reference.</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Infallible.html" title="rkyv::Infallible struct">Infallible</a></div><div class="item-right docblock-short"><p>A fallible type that cannot produce errors</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RawRelPtr.html" title="rkyv::RawRelPtr struct">RawRelPtr</a></div><div class="item-right docblock-short"><p>An untyped pointer which resolves relative to its position in memory.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RelPtr.html" title="rkyv::RelPtr struct">RelPtr</a></div><div class="item-right docblock-short"><p>A pointer which resolves to relative to its position in memory.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Unreachable.html" title="rkyv::Unreachable enum">Unreachable</a></div><div class="item-right docblock-short"><p>An error that can never be produced</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Archive.html" title="rkyv::Archive trait">Archive</a></div><div class="item-right docblock-short"><p>A type that can be used without deserializing.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ArchiveCopy.html" title="rkyv::ArchiveCopy trait">ArchiveCopy</a></div><div class="item-right docblock-short"><p>An <a href="trait.Archive.html" title="Archive"><code>Archive</code></a> type that is a bitwise copy of itself and without additional processing.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ArchivePointee.html" title="rkyv::ArchivePointee trait">ArchivePointee</a></div><div class="item-right docblock-short"><p>An archived type with associated metadata for its relative pointer.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ArchiveUnsized.html" title="rkyv::ArchiveUnsized trait">ArchiveUnsized</a></div><div class="item-right docblock-short"><p>A counterpart of <a href="trait.Archive.html" title="Archive"><code>Archive</code></a> that’s suitable for unsized types.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Deserialize.html" title="rkyv::Deserialize trait">Deserialize</a></div><div class="item-right docblock-short"><p>Converts a type back from its archived form.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.DeserializeUnsized.html" title="rkyv::DeserializeUnsized trait">DeserializeUnsized</a></div><div class="item-right docblock-short"><p>A counterpart of <a href="trait.Deserialize.html" title="Deserialize"><code>Deserialize</code></a> that’s suitable for unsized types.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Fallible.html" title="rkyv::Fallible trait">Fallible</a></div><div class="item-right docblock-short"><p>Contains the error type for traits with methods that can fail</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Serialize.html" title="rkyv::Serialize trait">Serialize</a></div><div class="item-right docblock-short"><p>Converts a type to its archived form.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.SerializeUnsized.html" title="rkyv::SerializeUnsized trait">SerializeUnsized</a></div><div class="item-right docblock-short"><p>A counterpart of <a href="trait.Serialize.html" title="Serialize"><code>Serialize</code></a> that’s suitable for unsized types.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Archived.html" title="rkyv::Archived type">Archived</a></div><div class="item-right docblock-short"><p>Alias for the archived version of some <a href="trait.Archive.html" title="Archive"><code>Archive</code></a> type.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.ArchivedIsize.html" title="rkyv::ArchivedIsize type">ArchivedIsize</a></div><div class="item-right docblock-short"><p>The type used for offsets in relative pointers.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.ArchivedMetadata.html" title="rkyv::ArchivedMetadata type">ArchivedMetadata</a></div><div class="item-right docblock-short"><p>Alias for the archived metadata for some <a href="trait.ArchiveUnsized.html" title="ArchiveUnsized"><code>ArchiveUnsized</code></a> type.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.ArchivedUsize.html" title="rkyv::ArchivedUsize type">ArchivedUsize</a></div><div class="item-right docblock-short"><p>The type used for sizes in archived types.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.MetadataResolver.html" title="rkyv::MetadataResolver type">MetadataResolver</a></div><div class="item-right docblock-short"><p>Alias for the metadata resolver for some <a href="trait.ArchiveUnsized.html" title="ArchiveUnsized"><code>ArchiveUnsized</code></a> type.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Resolver.html" title="rkyv::Resolver type">Resolver</a></div><div class="item-right docblock-short"><p>Alias for the resolver for some <a href="trait.Archive.html" title="Archive"><code>Archive</code></a> type.</p>
</div></div></div><h2 id="derives" class="small-section-header"><a href="#derives">Derive Macros</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="derive" href="derive.Archive.html" title="rkyv::Archive derive">Archive</a></div><div class="item-right docblock-short"><p>Derives <code>Archive</code> for the labeled type.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="derive" href="derive.Deserialize.html" title="rkyv::Deserialize derive">Deserialize</a></div><div class="item-right docblock-short"><p>Derives <code>Deserialize</code> for the labeled type.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="derive" href="derive.Serialize.html" title="rkyv::Serialize derive">Serialize</a></div><div class="item-right docblock-short"><p>Derives <code>Serialize</code> for the labeled type.</p>
</div></div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="rkyv" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
</body></html>